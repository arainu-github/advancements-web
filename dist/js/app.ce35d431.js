(function(t){function n(n){for(var a,c,o=n[0],d=n[1],u=n[2],p=0,s=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&s.push(r[c][0]),r[c]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);l&&l(n);while(s.length)s.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],a=!0,o=1;o<e.length;o++){var d=e[o];0!==r[d]&&(a=!1)}a&&(i.splice(n--,1),t=c(c.s=e[0]))}return t}var a={},r={app:0},i=[];function c(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=a,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)c.d(e,a,function(n){return t[n]}.bind(null,a));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var l=d;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("85ec")},"2ad5":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"m-1",attrs:{id:"app"}},[e("b-tabs",{attrs:{pills:"","content-class":"tab-content",fill:""}},[e("b-card",{staticClass:"m-1"},[e("b-card-title",{attrs:{id:"title"}},[t._v("タップまたはマウスホバーで詳細情報が見れます。")]),e("b-card-text",{attrs:{id:"description"}})],1),t._l(t.content,(function(n,a){return e("b-tab",{key:n.id,attrs:{title:n.name}},[e("tree",{attrs:{content:n,id:a,player:t.player}})],1)}))],2)],1)},i=[],c=(e("d3b7"),e("3ca3"),e("ddb0"),e("9861"),e("ac1f"),e("841c"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tree"})}),o=[],d=(e("7db0"),e("b0c0"),e("d81d"),e("c740"),e("fb6a"),e("0481"),e("4069"),e("5319"),e("99af"),e("1276"),e("a4d3"),e("e01a"),e("898b")),u={name:"tree",props:["content","id","player"],mounted:function(){var t=this,n={height:48,width:48},e={padding:10,height:60,width:60},a=d["a"](this.content),r=d["c"]();r(a),a.count();var i=a.value*n.height+(a.value-1)*(e.height-n.height)+2*e.padding,c=(a.height+1)*n.width+a.height*(e.width-n.width)+2*e.padding,o=d["b"](".tab-content div:nth-child("+(this.id+2)+") .tree").append("svg").attr("width",c).attr("height",i),u=function t(n,e){var a=n.parent.children,r=a.find((function(t){return t.data.name===e}));return r?{name:e,hierarchy:a}:t(n.parent,e)},l=function(t,n){var e=t.map((function(t){return u(n,t)})),a=e.map((function(t){return t.hierarchy.findIndex((function(n){return n.data.name===t.name}))})),r=e.map((function(t,n){return t.hierarchy.slice(0,a[n])})),i=r.map((function(t){return t.map((function(t){return t.value}))}));return i.flat()},p=function(t,n){var e=t.ancestors().map((function(t){return t.data.name})),a=l(e.slice(0,e.length-1),t),r=a.reduce((function(t,n){return t+n}),0);return r*n.height+n.padding},s=function(t,n){t.each((function(t){t.x=t.depth*n.width+n.padding,t.y=p(t,n)}))};s(a,e);var f=d["b"]("#title"),h=d["b"]("#description"),m=o.append("g");m.selectAll(".link").data(a.descendants().slice(1)).enter().append("path").attr("class","link").attr("fill","none").attr("stroke","black").attr("d",(function(t){return"M".concat(t.x,",").concat(t.y,"\n    L").concat(t.parent.x+n.width+(e.width-n.width)/2,",").concat(t.y,"\n    ").concat(t.parent.x+n.width+(e.width-n.width)/2,",").concat(t.parent.y,"\n    ").concat(t.parent.x+n.width,",").concat(t.parent.y).replace(/\r?\n/g,"").replace(/\s+/g," ")})).attr("transform",(function(){return"translate(0, ".concat(n.height/2,")")}));var g=m.selectAll(".node").data(a.descendants()).enter().append("g").attr("class","node").attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}));g.append("image").attr("width","48px").attr("height","48px").attr("xlink:href",(function(n){if(0===t.player.length)return"https://data.arainu.world/images/"+n.data.type+".png";var e=t.player[t.player.map((function(t){return t[1]})).indexOf(n.data.id)][3].split(",");return""===e[0]&&(e=[]),0===e.length?"https://data.arainu.world/images/"+n.data.type+"_complete.png":"https://data.arainu.world/images/"+n.data.type+".png"})).on("mouseover",(function(t,n){f.html(n.data.name),h.html(n.data.description)})),g.append("image").attr("x","8").attr("y","8").attr("width","32px").attr("height","32px").attr("xlink:href",(function(t){return"https://data.arainu.world/images/itemimages/"+t.data.icon+".png"})).on("mouseover",(function(t,n){f.html(n.data.name),h.html(n.data.description)})).on("click",(function(t,n){f.html(n.data.name),h.html(n.data.description)}))}},l=u,p=(e("e27e"),e("2877")),s=Object(p["a"])(l,c,o,!1,null,"207801ee",null),f=s.exports,h=e("bc3a"),m=e.n(h),g={name:"App",components:{Tree:f},data:function(){return{content:[],player:[]}},beforeMount:function(){var t=this;m.a.get("https://data.arainu.world/api/advancements/").then((function(n){t.$data.content=n.data}));var n=new URLSearchParams(window.location.search),e=n.get("uuid");null!==e&&m.a.get("https://data.arainu.world/api/advancements/player?uuid="+e).then((function(n){t.$data.player=n.data})),console.log(e)}},b=g,v=(e("034f"),Object(p["a"])(b,r,i,!1,null,null,null)),y=v.exports,w=e("5f5b");e("f9e3"),e("2dd8");a["default"].use(w["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(y)}}).$mount("#app")},"85ec":function(t,n,e){},e27e:function(t,n,e){"use strict";e("2ad5")}});
//# sourceMappingURL=app.ce35d431.js.map